<p-dialog
  header="Adicionar categoria"
  [modal]="true"
  [(visible)]="visibleModalCategoria"
  [style]="{ width: '30rem' }"
>
  <form
    (ngSubmit)="OnEditCategoria()"
    #categoriaForm="ngForm"
    class="p-4 text-base w-full"
  >
    <div class="mb-2 flex items-center">
      <div class="flex-grow mr-2">
        <label for="nome">Nome:</label><br />
        <textarea
          class="w-full h-11 mb-1 min-h-11 p-2"
          id="nome"
          name="nome"
          rows="5"
          cols="30"
          pInputTextarea
          [(ngModel)]="editCategoria.nome"
        ></textarea>
      </div>

      <div class="flex-shrink-0">
        <label for="entrada">Entrada:</label><br />
        <p-inputSwitch
          id="entrada"
          name="entrada"
          [(ngModel)]="editCategoria.entrada"
        ></p-inputSwitch>
      </div>
    </div>

    <div class="flex justify-center">
      <button
        class="bg-emerald-600 hover:bg-emerald-700 transition cursor-pointer text-white px-3 text-lg py-2 rounded-md mt-7"
        type="submit"
        [disabled]="!categoriaForm.form.valid"
      >
        Salvar Categoria
      </button>
    </div>
  </form>
</p-dialog>

<div>
  <div class="flex align-middle justify-between">
    <p class="text-base md:text-xl">
      {{ categoria.nome }}
    </p>
    <div class="card flex justify-center gap-2">
      <p-toast />

      <p-dialog
        header="Deletar?"
        [modal]="true"
        [(visible)]="visibleDeleteModal"
        [style]="{ width: '25rem' }"
      >
        <div>
          {{ categoria.nome }} - Entrada: "{{
            categoria.entrada ? 'Sim' : 'Não'
          }}"
        </div>

        <div class="text-red-500 text-sm">
          AVISO: Todas as movimentações associadas a essa categoria também serão
          excluídas! Tem certeza que deseja excluir essa categoria?
        </div>

        <div class="flex items-center gap-2 mt-4 text-zinc-200">
          <p-button
            (onClick)="onDeleteConfirmation()"
            label="Sim"
            size="small"
          />
          <p-button
            (onClick)="onDeleteRejection()"
            label="Não"
            [text]="true"
            size="small"
            severity="secondary"
          />
        </div>

        <ng-template #footer>
          <p-button
            label="Cancel"
            [text]="true"
            severity="secondary"
            (click)="deleteModalToggle()"
          />
          <p-button
            label="Save"
            [outlined]="true"
            severity="secondary"
            (click)="deleteModalToggle()"
          />
        </ng-template>
      </p-dialog>

      <p-menu #menu [model]="items" [popup]="true" />
      <div class="flex items-center">
        <svg
          (click)="menu.toggle($event)"
          class="lucide lucide-ellipsis-icon lucide-ellipsis cursor-pointer"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <circle cx="12" cy="12" r="1" />
          <circle cx="19" cy="12" r="1" />
          <circle cx="5" cy="12" r="1" />
        </svg>
      </div>
    </div>
  </div>
</div>
